{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","components/Common/Preloader/Loading.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","serviceWorker.js","api/api.js","redux/profileReducer.js","redux/dialogsReducer.js","redux/usersReducer.js","redux/authorizeReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Navbar/Navbar.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/ChatItem/ChatItem.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","components/Users/UserElementMarkup.jsx","components/Users/Users.jsx","components/Common/Preloader/Loading.jsx","redux/user-selector.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Login/LoginContainer.jsx","App.js","index.js","components/Navbar/Navbar.module.css","assets/img/simple-avatar.png","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/ChatItem/ChatItem.module.css","components/Users/Users.module.css"],"names":["module","exports","content","header","loginBlock","lds_roller","lds-roller","descriptionBlock","item","Boolean","window","location","hostname","match","instance","axios","withCredentials","baseURL","headers","API-KEY","usersAPI","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","getUnfollow","userID","delete","getFollow","post","getProfile","console","warn","profileAPI","authAPI","email","password","rememberMe","getStatus","updateStatus","status","put","initialState","postsDataBase","id","text","like","postTypingText","profile","setStatus","type","profileReducer","state","action","Object","objectSpread","typingText","newPost","toConsumableArray","dialogsNamesData","name","avatar","messageDataBase","sender","messageTypingText","dialogsReducer","newMessage","usersData","totalUsersCount","waitingResponse","waitingSubscribe","followSuccess","unfollowSuccess","toggleWaiting","toggle","toggleSubscribeProgress","followUnfollow","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee2","dispatch","APImethod","actionCreator","wrap","_context2","prev","next","sent","resultCode","stop","_x2","_x3","_x4","_x5","apply","this","usersReducer","map","user","followed","users","totalCount","login","isAuthorize","setLoginData","payload","getAuthUserData","_ref","_callee","_response$data$data","_context","_x","authorizeReducer","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","usersPage","authorizeBlock","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","react_default","createElement","className","s","nav","react_router_dom","to","activeClassName","active","DialogItem","props","path","dialogImg","src","dialogName","chatName","ChatItem","answer","message","Dialogs","refTextArea","React","createRef","dialogsWrapper","dialogsNamesWindow","elem","Dialogs_DialogItem_DialogItem","key","chatWindow","Dialogs_ChatItem_ChatItem","onChange","messageTextValue","current","value","textChange","ref","onClick","sendMessage","withAuthRedirect","Component","RedirectComponent","_React$Component","inherits","_super","_createSuper","classCallCheck","createClass","react_router","connect","updTypingMessageCreator","UserElementMarkup","styles","userElement","alt","userPhoto","photos","small","AvatarIMG","disabled","unfollow","follow","Users","pagination","defaultCurrent","total","pageNumber","onPageChange","defaultPageSize","Users_UserElementMarkup","Loading","style","getUsersData","createSelector","filter","u","getPageSize","getTotalUsersCount","getCurrentPage","UsersContainer","_this","setCurrentPage","setPageSize","Fragment","Preloader_Loading","components_Users_Users","_ref4","_callee4","_context4","bind","_x7","_ref3","_callee3","_context3","_x6","items","ProfileStatusHooks","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","_useState4","useEffect","onDoubleClick","e","currentTarget","onBlur","sendNewStatus","ProfileInfo","userId","fullName","ProfileInfo_ProfileStatusHooks","Post","MyPosts","memo","postTextValue","updTypingPost","addPost","posts","MyPosts_Post_Post","MyPostsContainer","updTypingPostCreator","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","params","yourID","getUserProfile","getUserStatus","components_Profile_Profile","assign","withRouter","Header","logOut","HeaderContainer","components_Header_Header","layout","labelCol","span","wrapperCol","Login","signIn","es_form","initialValues","remember","onFinish","values","username","log","onFinishFailed","errorInfo","Item","label","rules","required","input","Password","valuePropName","es_checkbox","es_button","htmlType","alert","messages","sendSignIdData","App","initializeApp","Header_HeaderContainer","components_Navbar_Navbar","render","DialogsContainer","Profile_ProfileContainer","Users_UsersContainer","LoginContainer","ReactDOM","react_redux_es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","__webpack_require__","p","selectedPage"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,QAAA,+CCAlBF,EAAAC,QAAA,CAAkBE,OAAA,uBAAAC,WAAA,iDCAlBJ,EAAAC,QAAA,CAAkBI,WAAA,4BAAAC,aAAA,kDCAlBN,EAAAC,QAAA,CAAkBM,iBAAA,4DCAlBP,EAAAC,QAAA,CAAkBO,KAAA,mKCWEC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,gHChBAC,SAAWC,OAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACLC,UAAW,0CAINC,EAAW,CACpBC,SADoB,WACqB,IAAhCC,EAAgCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlB,EAAGG,EAAeH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACjC,OAAOT,EAASa,IAAT,cAAAC,OAA2BN,EAA3B,WAAAM,OAAgDF,IAClDG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAEnCC,YALoB,SAKRC,GACR,OAAOnB,EAASoB,OAAT,UAAAN,OAA0BK,IAC5BJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAEnCI,UAToB,SASVF,GACN,OAAOnB,EAASsB,KAAT,UAAAR,OAAwBK,IAC1BJ,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAEnCM,WAboB,SAaTJ,GAEP,OADAK,QAAQC,KAAK,mCACNC,EAAWH,WAAWJ,KAIxBQ,EAAU,WAEf,OAAO3B,EAASa,IAAT,YAFFc,EAAU,SAIbC,EAAOC,GAA6B,IAAnBC,EAAmBrB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACtC,OAAOT,EAASsB,KAAT,eAA6B,CAACM,QAAOC,WAAUC,gBALjDH,EAAU,WAQf,OAAO3B,EAASoB,OAAT,iBAIFM,EAAa,CAEtBH,WAFsB,SAEXJ,GACP,OAAOnB,EAASa,IAAT,WAAAC,OAAwBK,KAEnCY,UALsB,SAKZZ,GACN,OAAOnB,EAASa,IAAT,kBAAAC,OAA+BK,KAE1Ca,aARsB,SAQTC,GACT,OAAOjC,EAASkC,IAAT,kBAAgC,CAACD,OAASA,MC3CrDE,EAAe,CACfC,cAAe,CACX,CAACC,GAAI,EAAGC,KAAM,oBAAqBC,KAAM,IACzC,CAACF,GAAI,EAAGC,KAAM,gBAAiBC,KAAM,IACrC,CAACF,GAAI,EAAGC,KAAM,kBAAmBC,KAAM,KAE3CC,eAAgB,GAChBC,QAAS,KACTR,OAAQ,IA6CCS,EAAY,SAACT,GAAD,MAAa,CAACU,KAvDpB,aAuDsCV,OAAQA,IA2BlDW,EApEQ,WAAkC,IAAjCC,EAAiCpC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB0B,EAAcW,EAAWrC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrD,OAAQmC,EAAOH,MACX,IAnBgB,kBAoBZ,OAAOI,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIL,eAAgBM,EAAOG,aAG/B,IAxBS,WAyBL,IAAIC,EAAU,CACVb,GAAI,EACJC,KAAMO,EAAML,eACZD,KAAM,GAEV,OAAOQ,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIT,cAAa,GAAAtB,OAAAiC,OAAAI,EAAA,EAAAJ,CAAMF,EAAMT,eAAZ,CAA2Bc,IACxCV,eAAgB,KAGxB,IAnCiB,mBAoCb,OAAOO,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIJ,QAASK,EAAOL,UAExB,IAvCW,aAwCP,OAAOM,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIZ,OAAQa,EAAOb,SAGvB,QACI,OAAOY,IChDfV,EAAe,CACfiB,iBAAkB,CACd,CAACf,GAAI,EAAGgB,KAAM,SAAUC,OAAQ,wDAChC,CAACjB,GAAI,EAAGgB,KAAM,OAAQC,OAAQ,wDAC9B,CAACjB,GAAI,EAAGgB,KAAM,OAAQC,OAAQ,yDAGlCC,gBAAiB,CACb,CAAClB,GAAI,EAAGmB,QAAQ,EAAMlB,KAAM,UAC5B,CAACD,GAAI,EAAGmB,QAAQ,EAAMlB,KAAM,gBAC5B,CAACD,GAAI,EAAGmB,QAAQ,EAAOlB,KAAM,0BAC7B,CAACD,GAAI,EAAGmB,QAAQ,EAAMlB,KAAM,WAC5B,CAACD,GAAI,EAAGmB,QAAQ,EAAOlB,KAAM,uBAEjCmB,kBAAmB,IA8CRC,EA3CQ,WAAkC,IAAjCb,EAAiCpC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB0B,EAAcW,EAAWrC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAErD,OAAQmC,EAAOH,MACX,IAvBmB,qBAwBf,OAAOI,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIY,kBAAmBX,EAAOG,aAGlC,IA5BY,cA6BR,IAAIU,EAAa,CACbtB,GAAI,EACJmB,QAAQ,EACRlB,KAAMO,EAAMY,mBAEhB,OAAOV,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIU,gBAAe,GAAAzC,OAAAiC,OAAAI,EAAA,EAAAJ,CAAMF,EAAMU,iBAAZ,CAA6BI,IAC5CF,kBAAmB,KAG3B,QACI,OAAOZ,IChCfV,EAAe,CACfyB,UAAW,GACXhD,SAAU,GACViD,gBAAiB,EACjBrD,YAAa,EACbsD,iBAAiB,EACjBC,iBAAkB,CAAC9B,QAAQ,EAAOI,GAAI,OA6D7B2B,EAAgB,SAAC7C,GAAD,MAAa,CAACwB,KA1E5B,SA0E0CN,GAAIlB,IAChD8C,EAAkB,SAAC9C,GAAD,MAAa,CAACwB,KA1E5B,WA0E4CN,GAAIlB,IAIpD+C,EAAgB,SAACC,GAAD,MAAa,CAACxB,KA3ElB,mBA2E0CwB,WACtDC,EAA0B,SAACD,EAAQhD,GAAT,MAAqB,CAACwB,KA3EnC,oBA2E4DwB,SAAQhD,WAcjFkD,EAAc,eAAAC,EAAAvB,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAG,SAAAC,EAAOC,EAAUzD,EAAQ0D,EAAWC,GAApC,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAE1BN,EAASR,GAAwB,EAAMjD,IAFb6D,EAAAE,KAAA,EAILL,EAAU1D,GAJL,OAKC,GALD6D,EAAAG,KAKbC,YACTR,EAASE,EAAc3D,IAE3ByD,EAASR,GAAwB,IARP,wBAAAY,EAAAK,SAAAV,MAAH,gBAAAW,EAAAC,EAAAC,EAAAC,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAlF,YAAA,GAwBZmF,EAtGM,WAAkC,IAAjC/C,EAAiCpC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB0B,EAAcW,EAAWrC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnD,OAAQmC,EAAOH,MACX,IAlBO,SAmBH,OAAOI,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIe,UAAWf,EAAMe,UAAUiC,IAAI,SAAAC,GAC3B,OAAIA,EAAKzD,KAAOS,EAAOT,GACZU,OAAAC,EAAA,EAAAD,CAAA,GAAI+C,EAAX,CAAiBC,UAAU,IAExBD,MAInB,IA5BS,WA6BL,OAAO/C,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIe,UAAWf,EAAMe,UAAUiC,IAAI,SAAAC,GAC3B,OAAIA,EAAKzD,KAAOS,EAAOT,GACZU,OAAAC,EAAA,EAAAD,CAAA,GAAI+C,EAAX,CAAiBC,UAAU,IAExBD,MAInB,IAzCU,YA0CN,OAAO/C,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIe,UAAWd,EAAOkD,MAClBnC,gBAAiBf,EAAOmD,aAGhC,IA7CiB,mBA8Cb,OAAOlD,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIrC,YAAasC,EAAOtC,cAE5B,IAjDc,gBAkDV,OAAOuC,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIjC,SAAUkC,EAAOlC,WAGzB,IAtDiB,mBAuDb,OAAOmC,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIiB,gBAAiBhB,EAAOqB,SAEhC,IA1DkB,oBA2Dd,OAAOpB,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIkB,iBAAkB,CAAC9B,OAAQa,EAAOqB,OAAQ9B,GAAIS,EAAO3B,UAG7D,QACI,OAAO0B,ICrEfV,EAAe,CACf+D,MAAO,KACP/E,OAAQ,KACRS,MAAO,KACPuE,aAAa,GAiBJC,EAAe,SAACjF,EAAQS,EAAOsE,EAAOC,GAAvB,MAAwC,CAChExD,KAxBmB,iBAyBnB0D,QAAS,CAAClF,SAAQS,QAAOsE,QAAOC,iBAGvBG,EAAkB,iCAAAC,EAAAxD,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAM,SAAA8B,EAAO5B,GAAP,IAAA5D,EAAAyF,EAAApE,EAAAT,EAAAsE,EAAA,OAAA1B,EAAAC,EAAAM,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,cAAAwB,EAAAxB,KAAA,EACZvD,IADY,OAGA,KAF7BX,EAD6B0F,EAAAvB,MAGpBlE,KAAKmE,aAAkBqB,EACPzF,EAASC,KAAKA,KAAlCoB,EAD2BoE,EAC3BpE,GAAIT,EADuB6E,EACvB7E,MAAOsE,EADgBO,EAChBP,MAChBtB,EAASwB,EAAa/D,EAAIT,EAAOsE,GAAO,KALX,wBAAAQ,EAAArB,SAAAmB,MAAN,gBAAAG,GAAA,OAAAJ,EAAAb,MAAAC,KAAAlF,YAAA,IA8BhBmG,EAhDU,WAAkC,IAAjC/D,EAAiCpC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB0B,EAAcW,EAAWrC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvD,OAAQmC,EAAOH,MACX,IAZe,iBAaX,OAAOI,OAAAC,EAAA,EAAAD,CAAA,GACAF,EACAC,EAAOuD,SAGlB,QACI,OAAOxD,aChBfV,EAAe,CACf0E,aAAa,GAyBFC,EAtBI,WAAkC,IAAjCjE,EAAiCpC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB0B,EACxB,QADiD1B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAClCgC,MACX,IAToB,sBAUhB,OAAOI,OAAAC,EAAA,EAAAD,CAAA,GACAF,EADP,CAEIgE,aAAa,IAErB,QACI,OAAOhE,ICTfkE,EAAWC,YAAgB,CAC3BC,YAAarE,EACbsE,YAAaxD,EACbyD,UAAWvB,EACXwB,eAAgBR,EAChBS,IAAKP,IAGHQ,EAAmB1H,OAAO2H,sCAAwCC,IAClEC,EAAQC,YAAYX,EAAUO,EAAiBK,YAAgBC,OAErEhI,OAAO6H,MAAQA,EAEAA,mGCIAI,EArBA,WACX,OAAOC,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,IAAEC,KAErBJ,EAAArD,EAAAsD,cAAA,UACID,EAAArD,EAAAsD,cAAA,UACID,EAAArD,EAAAsD,cAACI,EAAA,EAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAEK,QAA1C,YAEJR,EAAArD,EAAAsD,cAAA,UACID,EAAArD,EAAAsD,cAACI,EAAA,EAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAEK,QAA1C,YAEJR,EAAArD,EAAAsD,cAAA,UACID,EAAArD,EAAAsD,cAACI,EAAA,EAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAEK,QAAxC,UAEJR,EAAArD,EAAAsD,cAAA,UACID,EAAArD,EAAAsD,cAACI,EAAA,EAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAEK,QAAxC,yDCADC,GAdI,SAACC,GAEhB,IAAIC,EAAO,YAAcD,EAAMnG,GAE/B,OACIyF,EAAArD,EAAAsD,cAAA,WACID,EAAArD,EAAAsD,cAACI,EAAA,EAAD,CAASE,gBAAiBJ,KAAEK,OAAQF,GAAIK,GACpCX,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,KAAES,UAAWC,IAAKH,EAAMlF,SACxCwE,EAAArD,EAAAsD,cAAA,QAAMC,UAAWC,KAAEW,YAAaJ,EAAMK,iCCDvCC,GARE,SAACN,GACd,IAAIvG,EAAyB,GAAhBuG,EAAMhF,OAAiByE,KAAEzE,OAASyE,KAAEc,OACjD,OACIjB,EAAArD,EAAAsD,cAAA,OAAKC,UAAW/F,GAASuG,EAAMQ,UCiCxBC,GAjCC,SAACT,GAEb,IAAIU,EAAcC,IAAMC,YAWxB,OACItB,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,IAAEoB,gBACdvB,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,IAAEqB,oBACbd,EAAMtB,YAAY9D,iBAAiByC,IAAI,SAAA0D,GAAI,OAAIzB,EAAArD,EAAAsD,cAACyB,GAAD,CAAYnH,GAAIkH,EAAKlH,GAAIwG,SAAUU,EAAKlG,KAC5BC,OAAQiG,EAAKjG,OAAQmG,IAAKF,EAAKlH,QAG/FyF,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,IAAEyB,YACblB,EAAMtB,YAAY3D,gBAAgBsC,IAAI,SAAA0D,GAAI,OAAIzB,EAAArD,EAAAsD,cAAC4B,GAAD,CAAUX,QAASO,EAAKjH,KAAMkB,OAAQ+F,EAAK/F,OACjCiG,IAAKF,EAAKlH,OACnEyF,EAAArD,EAAAsD,cAAA,WACID,EAAArD,EAAAsD,cAAA,YAAU6B,SAjBJ,WAElB,IAAIC,EAAmBX,EAAYY,QAAQC,MAC3CvB,EAAMwB,WAAWH,IAcgCI,IAAKf,EAAaa,MAAOvB,EAAMtB,YAAYzD,oBAChFqE,EAAArD,EAAAsD,cAAA,UAAQmC,QArBA,WACpB1B,EAAM2B,gBAoBM,2dC3Bb,IAAMC,GAAmB,SAACC,GAAc,IAErCC,EAFqC,SAAAC,GAAAxH,OAAAyH,EAAA,EAAAzH,CAAAuH,EAAAC,GAAA,IAAAE,EAAAC,GAAAJ,GAAA,SAAAA,IAAA,OAAAvH,OAAA4H,EAAA,EAAA5H,CAAA4C,KAAA2E,GAAAG,EAAA/E,MAAAC,KAAAlF,WAAA,OAAAsC,OAAA6H,EAAA,EAAA7H,CAAAuH,EAAA,EAAAb,IAAA,SAAAM,MAGvC,WACI,OAAIpE,KAAK6C,MAAMrC,YACR2B,EAAArD,EAAAsD,cAACsC,EAAc1E,KAAK6C,OADQV,EAAArD,EAAAsD,cAAC8C,EAAA,EAAD,CAAUzC,GAAI,eAJdkC,EAAA,CAEXnB,IAAMkB,WAatC,OAFqCS,aAJf,SAACjI,GAAD,MAAY,CAC9BsD,YAAatD,EAAMuE,eAAejB,cAGD2E,CAAyBR,ICOnD9C,eACXsD,aAlBkB,SAACjI,GACnB,MAAO,CACHqE,YAAarE,EAAMqE,cAGF,SAACtC,GACtB,MAAO,CACHuF,YAAa,WACTvF,EVmCD,CACHjC,KAlDY,iBUgBZqH,WAAY,SAAC1H,GACTsC,EVqC2B,SAACtC,GAEpC,MAAO,CACHK,KA1DmB,qBA2DnBM,WAAYX,GUzCCyI,CAAwBzI,QAQzC8H,GAFW5C,CAGbyB,sDCCa+B,GAvBS,SAACxC,GAGrB,OAAOV,EAAArD,EAAAsD,cAAA,OAAKC,UAAWiD,KAAOC,aAC1BpD,EAAArD,EAAAsD,cAACI,EAAA,EAAD,CAASC,GAAE,YAAAtH,OAAc0H,EAAMnG,KAC3ByF,EAAArD,EAAAsD,cAAA,WAAKD,EAAArD,EAAAsD,cAAA,OAAKoD,IAAI,YAAYnD,UAAWiD,KAAOG,UAClCzC,IAA2B,MAAtBH,EAAM6C,OAAOC,MAAgB9C,EAAM6C,OAAOC,MAAQC,SAErEzD,EAAArD,EAAAsD,cAAA,wBAAgBS,EAAMnF,KAAtB,SAAkCmF,EAAMnG,GAAxC,aAAsDmG,EAAMvG,QAC5D6F,EAAArD,EAAAsD,cAAA,UACIyD,SAA2C,GAAjChD,EAAMzE,iBAAiB9B,QAAkBuG,EAAMzE,iBAAiB1B,IAAMmG,EAAMnG,GACtF6H,QAAS,WACiB,GAAlB1B,EAAMzC,SACAyC,EAAMiD,SAASjD,EAAMnG,IACrBmG,EAAMkD,OAAOlD,EAAMnG,MAEd,GAAlBmG,EAAMzC,SAAmB,WAAa,YCGpC4F,GApBH,SAACnD,GAMT,OAAOV,EAAArD,EAAAsD,cAAA,WACHD,EAAArD,EAAAsD,cAAC6D,GAAA,EAAD,CAAYC,eAAgB,EAAGC,MAAOtD,EAAM3E,gBAAiB+F,SALjE,SAAkBmC,EAAYnL,GAC1B4H,EAAMwD,aAAaD,EAAYnL,IAKnBqL,gBAAiBzD,EAAM5H,WAElC4H,EAAM5E,UAAUiC,IAAI,SAAA0D,GAAI,OACbzB,EAAArD,EAAAsD,cAACmE,GAAD,CAAmBzC,IAAKF,EAAKlH,GAAIA,GAAIkH,EAAKlH,GAAIgB,KAAMkG,EAAKlG,KACtC0C,SAAUwD,EAAKxD,SAAUhC,iBAAkByE,EAAMzE,iBAAwD2H,OAAQlD,EAAMkD,OAAQD,SAAUjD,EAAMiD,SAC/IJ,OAAQ9B,EAAK8B,OAAQpJ,OAAQsH,EAAKtH,kCCD1DkK,GAbD,WACV,OAAOrE,EAAArD,EAAAsD,cAAA,OAAKC,UAAWoE,KAAM7M,YACzBuI,EAAArD,EAAAsD,cAAA,YACAD,EAAArD,EAAAsD,cAAA,YACAD,EAAArD,EAAAsD,cAAA,YACAD,EAAArD,EAAAsD,cAAA,YACAD,EAAArD,EAAAsD,cAAA,YACAD,EAAArD,EAAAsD,cAAA,YACAD,EAAArD,EAAAsD,cAAA,YACAD,EAAArD,EAAAsD,cAAA,wBCNKsE,GAAeC,aAJC,SAACzJ,GAC1B,OAAOA,EAAMsE,UAAUvD,WAGsC,SAACA,GAC9D,OAAOA,EAAU2I,OAAO,SAAAC,GAAC,OAAI,MAGpBC,GAAc,SAAC5J,GACxB,OAAOA,EAAMsE,UAAUvG,UAEd8L,GAAqB,SAAC7J,GAC/B,OAAOA,EAAMsE,UAAUtD,iBAEd8I,GAAiB,SAAC9J,GAC3B,OAAOA,EAAMsE,UAAU3G,aAEdsD,GAAkB,SAACjB,GAC5B,OAAOA,EAAMsE,UAAUrD,iBAEdC,GAAmB,SAAClB,GAC7B,OAAOA,EAAMsE,UAAUpD,wdCL3B,IAoBM6I,sMAMFZ,aAAe,SAACD,EAAYnL,GACxBiM,EAAKrE,MAAMsE,eAAef,GAC1Bc,EAAKrE,MAAMuE,YAAYnM,GACvBiM,EAAKrE,MAAMjI,SAASwL,EAAYnL,2DAPpC,WACI+E,KAAK6C,MAAMjI,SAASoF,KAAK6C,MAAMhI,YAAamF,KAAK6C,MAAM5H,gCAS3D,WACI,OAAOkH,EAAArD,EAAAsD,cAAAD,EAAArD,EAAAuI,SAAA,KACFrH,KAAK6C,MAAM1E,gBAAkBgE,EAAArD,EAAAsD,cAACkF,GAAD,MAAa,KAC3CnF,EAAArD,EAAAsD,cAACmF,GAAD,CAAOrJ,gBAAiB8B,KAAK6C,MAAM3E,gBAC5BjD,SAAU+E,KAAK6C,MAAM5H,SAAUJ,YAAamF,KAAK6C,MAAMhI,YACvDoD,UAAW+B,KAAK6C,MAAM5E,UAAW8H,OAAQ/F,KAAK6C,MAAMkD,OAAQD,SAAU9F,KAAK6C,MAAMiD,SACjFO,aAAcrG,KAAKqG,aAAcjI,iBAAkB4B,KAAK6C,MAAMzE,iBAC9DK,wBAAyBuB,KAAK6C,MAAMpE,kCAnB1B+E,IAAMkB,WAyBpB7C,eACXsD,aA9CkB,SAACjI,GASnB,MAAO,CACHe,UAAWyI,GAAaxJ,GACxBjC,SAAU6L,GAAY5J,GACtBgB,gBAAiB6I,GAAmB7J,GACpCrC,YAAamM,GAAe9J,GAC5BiB,gBAAiBA,GAAgBjB,GACjCkB,iBAAkBA,GAAiBlB,KA+Bd,CAAC6I,OdmDR,SAACvK,GACnB,sBAAAgM,EAAApK,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAO,SAAA0I,EAAOxI,GAAP,OAAAJ,EAAAC,EAAAM,KAAA,SAAAsI,GAAA,cAAAA,EAAApI,KAAAoI,EAAAnI,MAAA,OACHb,EAAeO,EAAUzD,EAAQb,EAASe,UAAUiM,KAAKhN,GAAW0D,GADjE,wBAAAqJ,EAAAhI,SAAA+H,MAAP,gBAAAG,GAAA,OAAAJ,EAAAzH,MAAAC,KAAAlF,YAAA,IcpDkCgL,Sd6Cd,SAACtK,GACrB,sBAAAqM,EAAAzK,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAO,SAAA+I,EAAO7I,GAAP,OAAAJ,EAAAC,EAAAM,KAAA,SAAA2I,GAAA,cAAAA,EAAAzI,KAAAyI,EAAAxI,MAAA,OACHb,EAAeO,EAAUzD,EAAQb,EAASY,YAAYoM,KAAKhN,GAAW2D,GADnE,wBAAAyJ,EAAArI,SAAAoI,MAAP,gBAAAE,GAAA,OAAAH,EAAA9H,MAAAC,KAAAlF,YAAA,Ic9C4CqM,edgBlB,SAACf,GAAD,MAAiB,CAACpJ,KA3EvB,mBA2E+CnC,YAAauL,IchBrBxL,SdqBxC,SAACC,EAAaI,GAClC,sBAAA2F,EAAAxD,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAO,SAAA8B,EAAO5B,GAAP,IAAA3D,EAAA,OAAAuD,EAAAC,EAAAM,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,cAEHN,EAASV,GAAc,IACvB1D,EAA6B,GAAfA,EAAmBA,EAAc,EAAIA,EAHhDkG,EAAAxB,KAAA,EAIc5E,EAASC,SAASC,EAAaI,GAJ7C,OAICK,EAJDyF,EAAAvB,KAKHP,EAASV,GAAc,IACvBU,GAbiBoB,EAaC/E,EAAK2M,MAbC3H,EAaMhF,EAAKgF,WAbK,CAACtD,KA7E/B,YA6EgDqD,QAAOC,gBAO9D,wBAAAS,EAAArB,OAPa,IAACW,EAAOC,GAOrBO,MAAP,gBAAAG,GAAA,OAAAJ,EAAAb,MAAAC,KAAAlF,YAAA,IctBsEsM,YdiB/C,SAACnM,GAAD,MAAe,CAAC+B,KA3ErB,gBA2E0C/B,SAAUA,MclB3D4G,CAEboF,mCCnCaiB,GA3BY,SAACrF,GAAU,IAAAsF,EAEJC,oBAAS,GAFLC,EAAAjL,OAAAkL,GAAA,EAAAlL,CAAA+K,EAAA,GAE7BI,EAF6BF,EAAA,GAEnBG,EAFmBH,EAAA,GAAAI,EAGRL,mBAASvF,EAAMvG,QAHPoM,EAAAtL,OAAAkL,GAAA,EAAAlL,CAAAqL,EAAA,GAG7BnM,EAH6BoM,EAAA,GAGrB3L,EAHqB2L,EAAA,GAkBlC,OAJAC,oBAAW,WACP5L,EAAU8F,EAAMvG,SACjB,CAACuG,EAAMvG,SAEH6F,EAAArD,EAAAsD,cAAA,8BAEDmG,GAAYpG,EAAArD,EAAAsD,cAAA,QAAMwG,cAAe,kBAAIJ,GAAY,KAAQlM,GAC1DiM,GAAYpG,EAAArD,EAAAsD,cAAA,SAAO6B,SAhBD,SAAC4E,GACpB9L,EAAU8L,EAAEC,cAAc1E,QAeoB2E,OAZnB,WAC3BP,GAAY,GACZ3F,EAAMmG,cAAc1M,IAU0D8H,MAAO9H,MCD9E2M,GAjBK,SAACpG,GACjB,OAAIA,EAAM/F,QAKNqF,EAAArD,EAAAsD,cAAA,WACID,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,KAAExI,kBACdqI,EAAArD,EAAAsD,cAAA,OAAKY,IAAmC,MAA9BH,EAAM/F,QAAQ4I,OAAOC,MAAgB9C,EAAM/F,QAAQ4I,OAAOC,MAAQC,OAC5EzD,EAAArD,EAAAsD,cAAA,gBAAQS,EAAM/F,QAAQoM,QACtB/G,EAAArD,EAAAsD,cAAA,sBAAcS,EAAM/F,QAAQqM,UAC5BhH,EAAArD,EAAAsD,cAACgH,GAAD,CAAoBJ,cAAenG,EAAMmG,cAAe1M,OAAQuG,EAAMvG,WATvE6F,EAAArD,EAAAsD,cAACkF,GAAD,iDCQA+B,GAbF,SAACxG,GACZ,OACEV,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,KAAEvI,MAChBoI,EAAArD,EAAAsD,cAAA,OAAKY,IAAI,sMACJH,EAAMQ,QACXlB,EAAArD,EAAAsD,cAAA,WACED,EAAArD,EAAAsD,cAAA,sBAAcS,EAAMjG,KAApB,KACAuF,EAAArD,EAAAsD,cAAA,8BC2BOkH,GAjCC9F,IAAM+F,KAAK,SAAA1G,GAEvB,IAAIU,EAAcC,IAAMC,YAWxB,OAAOtB,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,KAAE7I,SACrB0I,EAAArD,EAAAsD,cAAA,uBAIAD,EAAArD,EAAAsD,cAAA,YAAU6B,SAdK,WACf,IAAIuF,EAAgBjG,EAAYY,QAAQC,MACxCvB,EAAM4G,cAAcD,IAYclF,IAAKf,EAAaa,MAAOvB,EAAMhG,iBACjEsF,EAAArD,EAAAsD,cAAA,WACID,EAAArD,EAAAsD,cAAA,UAAQmC,QAXS,WACrB1B,EAAM6G,YAUF,YACAvH,EAAArD,EAAAsD,cAAA,yBAGJD,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,KAAEqH,OACb9G,EAAMpG,cAAcyD,IAAI,SAAA0D,GAAI,OAAIzB,EAAArD,EAAAsD,cAACwH,GAAD,CAAMvG,QAASO,EAAKjH,KAAMmH,IAAKF,EAAKlH,GAClBE,KAAMgH,EAAKhH,aCL3DiN,GAFU1E,aAlBH,SAACjI,GACnB,MAAO,CACHT,cAAeS,EAAMoE,YAAY7E,cACjCI,eAAgBK,EAAMoE,YAAYzE,iBAGjB,SAACoC,GACtB,MAAO,CACHyK,QAAS,WACLzK,ErB2CyB,CAACjC,KAtDrB,cqBaTyM,cAAe,SAAC9M,GACZ,IAAIQ,ErByCoB,SAACR,GAAD,MAAW,CAACK,KAxDxB,kBAwD+CM,WAAYX,GqBzC1DmN,CAAqBnN,GAClCsC,EAAS9B,MAKIgI,CAA6CmE,ICXvDS,GARC,SAAClH,GAEb,OAAOV,EAAArD,EAAAsD,cAAA,WACHD,EAAArD,EAAAsD,cAAC4H,GAAD,CAAalN,QAAS+F,EAAM/F,QAASR,OAAQuG,EAAMvG,OAAQ0M,cAAenG,EAAMmG,gBAChF7G,EAAArD,EAAAsD,cAAC6H,GAAD,kdCCFC,iKAEF,WACI,IAAI1O,EAASwE,KAAK6C,MAAMzI,MAAM+P,OAAO3O,OACjCA,IACAA,EAASwE,KAAK6C,MAAMuH,QAExBpK,KAAK6C,MAAMwH,eAAe7O,GAC1BwE,KAAK6C,MAAMyH,cAAc9O,yBAG7B,WACI,OAAO2G,EAAArD,EAAAsD,cAAA,WACHD,EAAArD,EAAAsD,cAACmI,GAADnN,OAAAoN,OAAA,GAAaxK,KAAK6C,MAAlB,CAAyBmG,cAAehJ,KAAK6C,MAAMmG,yBAbhCxF,IAAMkB,WAyBtB7C,eACXsD,aAPkB,SAACjI,GAAD,MAAY,CAC9BJ,QAASI,EAAMoE,YAAYxE,QAC3BR,OAAQY,EAAMoE,YAAYhF,OAC1B8N,OAAQlN,EAAMuE,eAAejG,SAIJ,CAAC6O,evB2BA,SAAC7O,GAAD,sBAAAoF,EAAAxD,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAY,SAAA8B,EAAO5B,GAAP,IAAA5D,EAAA,OAAAwD,EAAAC,EAAAM,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAAxB,MAAA,cAAAwB,EAAAxB,KAAA,EACjBxD,EAAWH,WAAWJ,GADL,OAClCH,EADkC0F,EAAAvB,KAGtCP,EANwC,CAACjC,KAvDpB,mBAuD4CF,QAMzCzB,EAASC,OAHK,wBAAAyF,EAAArB,SAAAmB,MAAZ,gBAAAG,GAAA,OAAAJ,EAAAb,MAAAC,KAAAlF,YAAA,IuB3BgBwP,cvBiCjB,SAAC9O,GAAD,sBAAAmD,EAAAvB,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAY,SAAAC,EAAOC,GAAP,IAAA5D,EAAA,OAAAwD,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAChBxD,EAAWK,UAAUZ,GADL,OAGhB,KAFjBH,EADiCgE,EAAAG,MAGxBlE,OACTD,EAASC,KAAO,mBAEpB2D,EAASlC,EAAU1B,EAASC,OANS,wBAAA+D,EAAAK,SAAAV,MAAZ,gBAAAW,GAAA,OAAAhB,EAAAoB,MAAAC,KAAAlF,YAAA,IuBjCgCkO,cvB2ChC,SAAC1M,GAAD,sBAAAuL,EAAAzK,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAY,SAAA+I,EAAO7I,GAAP,OAAAJ,EAAAC,EAAAM,KAAA,SAAA2I,GAAA,cAAAA,EAAAzI,KAAAyI,EAAAxI,MAAA,cAAAwI,EAAAxI,KAAA,EAChBxD,EAAWM,aAAaC,GADR,OAEL,GAFKyL,EAAAvI,KAExBlE,KAAKmE,YACdR,EAASlC,EAAUT,IAHc,wBAAAyL,EAAArI,SAAAoI,MAAZ,gBAAAlI,GAAA,OAAAiI,EAAA9H,MAAAC,KAAAlF,YAAA,MuB1CzB2P,IACAhG,GAHW5C,CAIbqI,yBCvBaQ,GAXA,SAAC7H,GACZ,OAAOV,EAAArD,EAAAsD,cAAA,UAAQC,UAAWC,KAAE5I,QACxByI,EAAArD,EAAAsD,cAAA,OAAKC,UAAWC,KAAE3I,YACbkJ,EAAMrC,YACD2B,EAAArD,EAAAsD,cAAA,WAAKD,EAAArD,EAAAsD,cAAA,mBAAWS,EAAMtC,OACxB4B,EAAArD,EAAAsD,cAAA,UAAQmC,QAAS1B,EAAM8H,QAAvB,WADE,KAEAxI,EAAArD,EAAAsD,cAACI,EAAA,EAAD,CAASC,GAAI,UAAb,sdCLZmI,sJACF,WACI,OAAOzI,EAAArD,EAAAsD,cAACyI,GAAW7K,KAAK6C,cAFFW,IAAMkB,WAWrBS,gBALS,SAACjI,GAAD,MAAY,CAChCsD,YAAatD,EAAMuE,eAAejB,YAClCD,MAAOrD,EAAMuE,eAAelB,QAGQ,CAACoK,OtBmCnB,kBAAM,SAAC1L,GACzBjD,IAAiBZ,KAAK,SAAAC,GACe,IAA7BA,EAASC,KAAKmE,YACdR,EAASwB,EAAa,KAAM,KAAM,MAAM,SsBtCrC0E,CAAmCyF,4CCb5CE,GAAS,CACXC,SAAU,CACNC,KAAM,GAEVC,WAAY,CACRD,KAAM,IAgECE,GAtDD,SAAAtK,GAA2B,IAAzBuK,EAAyBvK,EAAzBuK,OAUZ,OAAmB,GAVkBvK,EAAjBJ,YAUY2B,EAAArD,EAAAsD,cAAA,kCAEzBD,EAAArD,EAAAsD,cAAA,WACHD,EAAArD,EAAAsD,cAAA,mBACAD,EAAArD,EAAAsD,cAACgJ,GAAA,EAADhO,OAAAoN,OAAA,GAAUM,GAAV,CAAkBpN,KAAK,QAAQ2N,cAAe,CAACC,UAAU,GAAOC,SAbnD,SAACC,GACdL,EAAOK,EAAOC,SAAUD,EAAOtP,SAAUsP,EAAOF,UAChDzP,QAAQ6P,IAAI,WAAYF,IAW4DG,eARjE,SAACC,GACpB/P,QAAQ6P,IAAI,UAAWE,MAQnBzJ,EAAArD,EAAAsD,cAACgJ,GAAA,EAAKS,KAAN,CACIC,MAAM,WACNpO,KAAK,WACLqO,MAAO,CACH,CACIC,UAAU,EACV3I,QAAS,iCAIjBlB,EAAArD,EAAAsD,cAAC6J,GAAA,EAAD,OAGJ9J,EAAArD,EAAAsD,cAACgJ,GAAA,EAAKS,KAAN,CACIC,MAAM,WACNpO,KAAK,WACLqO,MAAO,CACH,CACIC,UAAU,EACV3I,QAAS,iCAIjBlB,EAAArD,EAAAsD,cAAC6J,GAAA,EAAMC,SAAP,OAGJ/J,EAAArD,EAAAsD,cAACgJ,GAAA,EAAKS,KAAN,CAAWnO,KAAK,WAAWyO,cAAc,WACrChK,EAAArD,EAAAsD,cAACgK,GAAA,EAAD,qBAGJjK,EAAArD,EAAAsD,cAACgJ,GAAA,EAAKS,KAAN,KACI1J,EAAArD,EAAAsD,cAACiK,GAAA,EAAD,CAAQrP,KAAK,UAAUsP,SAAS,UAAhC,cC5CDnH,gBAdO,SAACjI,GACnB,MAAO,CACHsD,YAAatD,EAAMuE,eAAejB,cAGjB,SAACvB,GACtB,MAAO,CACHkM,OAAQ,SAAClP,EAAOC,EAAUC,GACtB8C,ExB0BkB,SAAChD,EAAOC,EAAUC,GAAlB,sBAAAwC,EAAAvB,OAAAwB,EAAA,EAAAxB,CAAAyB,EAAAC,EAAAC,KAAiC,SAAAC,EAAOC,GAAP,IAAA5D,EAAA,OAAAwD,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACtCvD,EAAcC,EAAOC,EAAUC,GADO,OAG1B,KAF7Bd,EADuDgE,EAAAG,MAG9ClE,KAAKmE,WACdR,EAAS0B,KAET4L,MAAMlR,EAASC,KAAKkR,UANmC,wBAAAnN,EAAAK,SAAAV,MAAjC,gBAAAW,GAAA,OAAAhB,EAAAoB,MAAAC,KAAAlF,YAAA,GwB1BT2R,CAAexQ,EAAOC,EAAUC,OAMtCgJ,CAA6C+F,8cCNtDwB,iKACF,WACI1M,KAAK6C,MAAM8J,sCAGf,WACI,OAAI3M,KAAK6C,MAAM3B,YAIXiB,EAAArD,EAAAsD,cAAA,OAAKC,UAAU,eACXF,EAAArD,EAAAsD,cAACwK,GAAD,MACAzK,EAAArD,EAAAsD,cAACyK,EAAD,MACA1K,EAAArD,EAAAsD,cAAA,OAAKC,UAAU,uBACXF,EAAArD,EAAAsD,cAAC8C,EAAA,EAAD,CAAOpC,KAAK,WAAWgK,OAAQ,kBAAM3K,EAAArD,EAAAsD,cAAC2K,GAAD,SACrC5K,EAAArD,EAAAsD,cAAC8C,EAAA,EAAD,CAAOpC,KAAK,oBAAoBgK,OAAQ,kBAAM3K,EAAArD,EAAAsD,cAAC4K,GAAD,SAC9C7K,EAAArD,EAAAsD,cAAC8C,EAAA,EAAD,CAAOpC,KAAK,SAASgK,OAAQ,kBAAM3K,EAAArD,EAAAsD,cAAC6K,GAAD,SACnC9K,EAAArD,EAAAsD,cAAC8C,EAAA,EAAD,CAAOpC,KAAK,SAASgK,OAAQ,kBAAM3K,EAAArD,EAAAsD,cAAC8K,GAAD,WAVpC/K,EAAArD,EAAAsD,cAACkF,GAAD,aAPD9D,IAAMkB,WA4BT7C,eACX4I,IACAtF,aANoB,SAACjI,GAAD,MAAY,CAChCgE,YAAahE,EAAMwE,IAAIR,cAKE,CAACyL,cxBrBD,kBAAM,SAAC1N,GAClBA,EAAS0B,KACfvF,KAAK,WACT6D,EALgC,CAACjC,KAnBb,8BwBwCb6E,CAEgC6K,kBChC3CS,IAASL,OACL3K,EAAArD,EAAAsD,cAACI,EAAA,EAAD,KAEIL,EAAArD,EAAAsD,cAACgL,GAAA,EAAD,CAAUtL,MAAOA,GACbK,EAAArD,EAAAsD,cAACiL,GAAD,QAGOC,SAASC,eAAe,S/B8GzC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMtS,KAAK,SAAAuS,GACjCA,EAAaC,mCgClInBrU,EAAAC,QAAA,CAAkB+I,IAAA,oBAAAI,OAAA,4CCDlBpJ,EAAAC,QAAiBqU,EAAAC,EAAuB,8DCCxCvU,EAAAC,QAAA,CAAkBkK,eAAA,gCAAAC,mBAAA,oCAAAI,WAAA,iDCAlBxK,EAAAC,QAAA,CAAkBmJ,OAAA,2BAAAI,UAAA,8BAAAE,WAAA,oDCAlB1J,EAAAC,QAAA,CAAkBqE,OAAA,yBAAAuF,OAAA,8CCAlB7J,EAAAC,QAAA,CAAkBiM,UAAA,yBAAAF,YAAA,2BAAAwI,aAAA","file":"static/js/main.1c0c164f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__3b2Ol\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2cZvj\",\"loginBlock\":\"Header_loginBlock__2r5gj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_roller\":\"Loading_lds_roller__2kYzN\",\"lds-roller\":\"Loading_lds-roller__2x4n_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__H4tio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1_LT_\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"b7aec3a8-1b77-41d6-aded-3789221e7d40\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    getUnfollow(userID) {\r\n        return instance.delete(`follow/${userID}`)\r\n            .then(response => response.data);\r\n    },\r\n    getFollow(userID) {\r\n        return instance.post(`follow/${userID}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile(userID) {\r\n        console.warn(\"Obsolete method. Use profileAPI\");\r\n        return profileAPI.getProfile(userID);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post(`/auth/login/`,{email, password, rememberMe});\r\n    },\r\n    logout(){\r\n        return instance.delete(`/auth/login/`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userID) {\r\n        return instance.get(`profile/${userID}`);\r\n    },\r\n    getStatus(userID) {\r\n        return instance.get(`profile/status/${userID}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status : status}); //\"status :\"-свойство объ к-рое требует сервер\r\n    },\r\n}","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst UPD_TYPING_POST = \"UPD_TYPING_POST\";\r\nconst ADD_POST = \"ADD_POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\nlet initialState = {\r\n    postsDataBase: [\r\n        {id: 1, text: 'Hello my friends!', like: 25},\r\n        {id: 2, text: 'I learn react', like: 13},\r\n        {id: 3, text: 'Far far away...', like: 20},\r\n    ],\r\n    postTypingText: \"\",\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPD_TYPING_POST:\r\n            return {\r\n                ...state,\r\n                postTypingText: action.typingText\r\n            };\r\n\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 4,\r\n                text: state.postTypingText,\r\n                like: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                postsDataBase: [...state.postsDataBase, newPost],\r\n                postTypingText: ''\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        default: // если ни один из action.type не подходит. Default необходим\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n//post Creators\r\nexport const addPostCreator = () => ({type: ADD_POST});\r\nexport const updTypingPostCreator = (text) => ({type: UPD_TYPING_POST, typingText: text});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status: status});\r\n\r\nexport const getUserProfile = (userID) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userID);\r\n\r\n    dispatch(setUserProfile(response.data)); //dispatch вызывает setUserProfile(response.data) и тот возвращает экшн\r\n}\r\n\r\nexport const getUserStatus = (userID) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userID);\r\n\r\n    if (response.data == \"\") {\r\n        response.data = \"status if empty\"\r\n    }\r\n    dispatch(setStatus(response.data));\r\n\r\n}\r\n\r\nexport const sendNewStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default profileReducer;","const UPD_TYPING_MESSAGE = \"UPD_TYPING_MESSAGE\";\r\nconst ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsNamesData: [\r\n        {id: 1, name: 'Nikita', avatar: 'https://avas.at.ua/_ph/45/1/469869713.jpg?1603712491'},\r\n        {id: 2, name: 'Egor', avatar: 'https://avas.at.ua/_ph/45/1/563058985.jpg?1603712491'},\r\n        {id: 3, name: 'Dima', avatar: 'https://avas.at.ua/_ph/45/1/940876170.jpg?1603712670'},\r\n    ],\r\n\r\n    messageDataBase: [\r\n        {id: 1, sender: true, text: \"Hello!\"},\r\n        {id: 2, sender: true, text: \"How are you?\"},\r\n        {id: 3, sender: false, text: \"I'll find you and hug!\"},\r\n        {id: 4, sender: true, text: \"Oh, no!\"},\r\n        {id: 5, sender: false, text: \"Time is running...\"},\r\n    ],\r\n    messageTypingText: \"\"\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case UPD_TYPING_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messageTypingText: action.typingText\r\n            };\r\n\r\n        case ADD_MESSAGE:\r\n            let newMessage = {\r\n                id: 6,\r\n                sender: false,\r\n                text: state.messageTypingText\r\n            };\r\n            return {\r\n                ...state,\r\n                messageDataBase: [...state.messageDataBase, newMessage],\r\n                messageTypingText: \"\"\r\n            };\r\n\r\n        default : // если ни один из action.type не подходит\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n//chat Creators\r\nexport const sendMessageCreator = () => {\r\n\r\n    return {\r\n        type: ADD_MESSAGE\r\n    }\r\n}\r\n\r\nexport const updTypingMessageCreator = (text) => {\r\n\r\n    return {\r\n        type: UPD_TYPING_MESSAGE,\r\n        typingText: text\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","import {usersAPI} from \"../api/api\";\r\n\r\nconst SET_USERS = \"SET_USERS\";\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_PAGE_SIZE = \"SET_PAGE_SIZE\";\r\nconst WAITING_RESPONSE = \"WAITING_RESPONSE\";\r\nconst WAITING_SUBSCRIBE = \"WAITING_SUBSCRIBE\";\r\n\r\nlet initialState = {\r\n    usersData: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    waitingResponse: false,\r\n    waitingSubscribe: {status: false, id: null}\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: state.usersData.map(user => {\r\n                    if (user.id === action.id) {\r\n                        return {...user, followed: true}\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: state.usersData.map(user => {\r\n                    if (user.id === action.id) {\r\n                        return {...user, followed: false}\r\n                    }\r\n                    return user;\r\n                })\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                usersData: action.users,\r\n                totalUsersCount: action.totalCount\r\n            };\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_PAGE_SIZE:\r\n            return {\r\n                ...state,\r\n                pageSize: action.pageSize\r\n            }\r\n\r\n        case WAITING_RESPONSE:\r\n            return {\r\n                ...state,\r\n                waitingResponse: action.toggle\r\n            }\r\n        case WAITING_SUBSCRIBE:\r\n            return {\r\n                ...state,\r\n                waitingSubscribe: {status: action.toggle, id: action.userID}\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, id: userID});\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, id: userID});\r\nexport const setUsers = (users, totalCount) => ({type: SET_USERS, users, totalCount});\r\nexport const setCurrentPage = (pageNumber) => ({type: SET_CURRENT_PAGE, currentPage: pageNumber});\r\nexport const setPageSize = (pageSize) => ({type: SET_PAGE_SIZE, pageSize: pageSize});\r\nexport const toggleWaiting = (toggle) => ({type: WAITING_RESPONSE, toggle});\r\nexport const toggleSubscribeProgress = (toggle, userID) => ({type: WAITING_SUBSCRIBE, toggle, userID});\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleWaiting(true));\r\n        currentPage = currentPage == 0 ? currentPage = 1 : currentPage;\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleWaiting(false));\r\n        dispatch(setUsers(data.items, data.totalCount));\r\n\r\n    }\r\n}\r\n\r\nexport const followUnfollow = async (dispatch, userID, APImethod, actionCreator) => {\r\n\r\n    dispatch(toggleSubscribeProgress(true, userID));\r\n\r\n    let response = await APImethod(userID);\r\n    if (response.resultCode == 0) {\r\n        dispatch(actionCreator(userID));\r\n    }\r\n    dispatch(toggleSubscribeProgress(false));\r\n\r\n}\r\n\r\nexport const unfollow = (userID) => {\r\n    return async (dispatch) => { //функция dispatch приходит в санку из стора. Параметры, как userID передавать только через замыкание.\r\n        followUnfollow(dispatch, userID, usersAPI.getUnfollow.bind(usersAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport const follow = (userID) => {\r\n    return async (dispatch) => { //функция dispatch приходит в санку из стора. Параметры, как userID передавать только через замыкание.\r\n        followUnfollow(dispatch, userID, usersAPI.getFollow.bind(usersAPI), followSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {authAPI, usersAPI} from \"../api/api\";\r\n\r\nconst SET_LOGIN_DATA = \"SET_LOGIN_DATA\";\r\n\r\nlet initialState = {\r\n    login: null,\r\n    userID: null,\r\n    email: null,\r\n    isAuthorize: false\r\n}\r\n\r\n\r\nconst authorizeReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_LOGIN_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setLoginData = (userID, email, login, isAuthorize) => ({\r\n    type: SET_LOGIN_DATA,\r\n    payload: {userID, email, login, isAuthorize}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setLoginData(id, email, login, true));\r\n    }\r\n\r\n};\r\n\r\nexport const sendSignIdData = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        alert(response.data.messages);\r\n    }\r\n\r\n};\r\n\r\nexport const logOut = () => (dispatch) => {\r\n    authAPI.logout().then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setLoginData(null, null, null, false));\r\n        }\r\n    });\r\n}\r\n\r\n\r\nexport default authorizeReducer;","import {getAuthUserData} from \"./authorizeReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default :\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializeSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData()); // getAuthUserData возвращает промисс\r\n    promise.then(() => {\r\n        dispatch(initializeSuccess());\r\n    });\r\n};\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authorizeReducer from \"./authorizeReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    authorizeBlock: authorizeReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store; // строка для того, чтоб можно было в консоли обращаться к стору\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return <nav className={s.nav}>\r\n\r\n        <ul>\r\n            <li>\r\n                <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.active}>Dialogs</NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink to=\"/login\" activeClassName={s.active}>Login</NavLink>\r\n            </li>\r\n        </ul>\r\n\r\n    </nav>\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div>\r\n            <NavLink activeClassName={s.active} to={path}>\r\n                <img className={s.dialogImg} src={props.avatar}/>\r\n                <span className={s.dialogName}>{props.chatName}</span>\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './ChatItem.module.css';\r\n\r\nconst ChatItem = (props) => {\r\n    let status = props.sender == true ? s.sender : s.answer;\r\n    return (\r\n        <div className={status}>{props.message}</div>\r\n    );\r\n\r\n}\r\n\r\nexport default ChatItem;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport ChatItem from \"./ChatItem/ChatItem\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let refTextArea = React.createRef();\r\n\r\n    let sendMessageButton = () => {\r\n        props.sendMessage();\r\n    }\r\n    let onMessageChange = () => {\r\n        debugger;\r\n        let messageTextValue = refTextArea.current.value;\r\n        props.textChange(messageTextValue);\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogsWrapper}>\r\n            <div className={s.dialogsNamesWindow}>\r\n                {props.dialogsPage.dialogsNamesData.map(elem => <DialogItem id={elem.id} chatName={elem.name}\r\n                                                                            avatar={elem.avatar} key={elem.id}/>)}\r\n            </div>\r\n\r\n            <div className={s.chatWindow}>\r\n                {props.dialogsPage.messageDataBase.map(elem => <ChatItem message={elem.text} sender={elem.sender}\r\n                                                                         key={elem.id}/>)}\r\n                <div>\r\n                    <textarea onChange={onMessageChange} ref={refTextArea} value={props.dialogsPage.messageTypingText}/>\r\n                    <button onClick={sendMessageButton}>Send</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuthorize) return <Redirect to={'/login'}/>;\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let mapStateToProps = (state) => ({\r\n        isAuthorize: state.authorizeBlock.isAuthorize\r\n    });\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n\r\n}","import React from 'react';\r\nimport {sendMessageCreator, updTypingMessageCreator} from \"../../redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: () => {\r\n            dispatch(sendMessageCreator());\r\n        },\r\n        textChange: (text) => {\r\n            dispatch(updTypingMessageCreator(text));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n","import React from 'react';\r\nimport styles from \"./Users.module.css\";\r\nimport AvatarIMG from '../../assets/img/simple-avatar.png';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet UserElementMarkup = (props) => {\r\n\r\n\r\n    return <div className={styles.userElement}>\r\n        <NavLink to={`/profile/${props.id}`}>\r\n            <div><img alt=\"userPhoto\" className={styles.userPhoto}\r\n                      src={props.photos.small != null ? props.photos.small : AvatarIMG}/></div>\r\n        </NavLink>\r\n        <div>Nickname: {props.name}; id: {props.id}; status: {props.status}</div>\r\n        <button\r\n            disabled={props.waitingSubscribe.status == true && props.waitingSubscribe.id == props.id}\r\n            onClick={() => {\r\n                    props.followed == true\r\n                        ? props.unfollow(props.id)\r\n                        : props.follow(props.id);\r\n                }}>\r\n            {props.followed == true ? \"unfollow\" : \"follow\"}\r\n        </button>\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default UserElementMarkup;","import {Pagination} from \"antd\";\r\nimport UserElementMarkup from \"./UserElementMarkup\";\r\nimport React from 'react';\r\n\r\nlet Users = (props) => {\r\n\r\n    function onChange(pageNumber, pageSize) {\r\n        props.onPageChange(pageNumber, pageSize);\r\n    }\r\n\r\n    return <div>\r\n        <Pagination defaultCurrent={1} total={props.totalUsersCount} onChange={onChange}\r\n                    defaultPageSize={props.pageSize}/>\r\n\r\n        {props.usersData.map(elem => (\r\n                    <UserElementMarkup key={elem.id} id={elem.id} name={elem.name}\r\n                                       followed={elem.followed} waitingSubscribe={props.waitingSubscribe}                                       follow={props.follow} unfollow={props.unfollow}\r\n                                       photos={elem.photos} status={elem.status}/>\r\n            ))}\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport style from \"./Loading.module.css\";\r\n\r\nlet Loading = () => {\r\n    return <div className={style.lds_roller}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n}\r\n\r\nexport default Loading;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersDataSelector = (state) => {\r\n    return state.usersPage.usersData;\r\n}\r\n\r\nexport const getUsersData = createSelector(getUsersDataSelector, (usersData)=> {\r\n    return usersData.filter(u => true);\r\n});//в эту функцию приходит state, хотя мы его не прописываем - так работает createSelector. (урок 83)\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const waitingResponse = (state) => {\r\n    return state.usersPage.waitingResponse;\r\n}\r\nexport const waitingSubscribe = (state) => {\r\n    return state.usersPage.waitingSubscribe;\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, getUsers,\r\n    setCurrentPage, setPageSize,\r\n    unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Loading from \"../Common/Preloader/Loading\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsersData,\r\n    waitingResponse,\r\n    waitingSubscribe,\r\n} from \"../../redux/user-selector\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    /*return {\r\n        usersData: state.usersPage.usersData,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        waitingResponse: state.usersPage.waitingResponse,\r\n        waitingSubscribe: state.usersPage.waitingSubscribe\r\n    }*/\r\n    return {\r\n        usersData: getUsersData(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        waitingResponse: waitingResponse(state),\r\n        waitingSubscribe: waitingSubscribe(state)\r\n    }\r\n};\r\n\r\n//в классовую компоненту не приходят props. Props приходят в уже отрисованый jsx. Поэтому тут обращаемся к пропсам через this.\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChange = (pageNumber, pageSize) => {\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.setPageSize(pageSize);\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.waitingResponse ? <Loading/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize} currentPage={this.props.currentPage}\r\n                   usersData={this.props.usersData} follow={this.props.follow} unfollow={this.props.unfollow}\r\n                   onPageChange={this.onPageChange} waitingSubscribe={this.props.waitingSubscribe}\r\n                   toggleSubscribeProgress={this.props.toggleSubscribeProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, getUsers, setPageSize})\r\n)(UsersContainer);","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);//возвращает массив, где первым значение будет false, а вторым функция меняющая первое значение\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    const deactivateStatusEditor = () => {\r\n        setEditMode(false);\r\n        props.sendNewStatus(status);\r\n    }\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    return <div>\r\n        PROFILE STATUS:\r\n        {!editMode && <span onDoubleClick={()=>setEditMode(true)}>{status}</span>}\r\n        {editMode && <input onChange={onStatusChange} onBlur={deactivateStatusEditor} value={status}></input>}\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default ProfileStatusHooks;","import React from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport Loading from \"../../Common/Preloader/Loading\";\r\nimport ProfileStatusHooks from \"./ProfileStatusHooks\";\r\nimport AvatarIMG from \"../../../assets/img/simple-avatar.png\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    if(!props.profile){\r\n        return <Loading/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={props.profile.photos.small != null ? props.profile.photos.small : AvatarIMG}/>\r\n                <p>id: {props.profile.userId}</p>\r\n                <p>nickname: {props.profile.fullName}</p>\r\n                <ProfileStatusHooks sendNewStatus={props.sendNewStatus} status={props.status}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img src=\"https://store.playstation.com/store/api/chihiro/00_09_000/container/UA/ru/999/EP0177-CUSA07010_00-AV00000000000004/1593099665000/image?w=240&h=240&bg_color=000000&opacity=100&_version=00_09_000\"></img>\r\n          {props.message}\r\n      <div>\r\n        <span>Like : {props.like} </span>\r\n        <span>Dislike : 0</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    let refTextArea = React.createRef(); //получает ссылку на объект. Тут на тег <textarea/>\r\n\r\n    let onPostChange = () => {\r\n        let postTextValue = refTextArea.current.value;\r\n        props.updTypingPost(postTextValue);\r\n    }\r\n\r\n    let addToPostsDataBase = () => {\r\n        props.addPost();\r\n    }\r\n\r\n    return <div className={s.content}>\r\n        <div>\r\n            My posts\r\n        </div>\r\n\r\n        <textarea onChange={onPostChange} ref={refTextArea} value={props.postTypingText}/>\r\n        <div>\r\n            <button onClick={addToPostsDataBase}>Add post</button>\r\n            <button>Remove</button>\r\n        </div>\r\n\r\n        <div className={s.posts}>\r\n            {props.postsDataBase.map(elem => <Post message={elem.text} key={elem.id}\r\n                                                               like={elem.like}/>)}\r\n        </div>\r\n\r\n    </div>\r\n\r\n});\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostCreator, updTypingPostCreator} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        postsDataBase: state.profilePage.postsDataBase,\r\n        postTypingText: state.profilePage.postTypingText\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: () => {\r\n            dispatch(addPostCreator());\r\n        },\r\n        updTypingPost: (text) => {\r\n            let action = updTypingPostCreator(text);\r\n            dispatch(action);\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return <div>\r\n        <ProfileInfo profile={props.profile} status={props.status} sendNewStatus={props.sendNewStatus}/>\r\n        <MyPostsContainer />\r\n    </div>\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getUserProfile, getUserStatus, sendNewStatus} from \"../../redux/profileReducer\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userID = this.props.match.params.userID;\r\n        if(!userID){\r\n            userID = this.props.yourID;\r\n        }\r\n        this.props.getUserProfile(userID);\r\n        this.props.getUserStatus(userID);\r\n    };\r\n\r\n    render() {\r\n        return <div>\r\n            <Profile {...this.props} sendNewStatus={this.props.sendNewStatus}/>\r\n        </div>\r\n    }// {...this.props} передает все пропсы из mapStateToProps ProfileContainer'а в <Profile/> (59 урок 16минута)\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    yourID: state.authorizeBlock.userID\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, sendNewStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer); //оборачивание идет по функциям снизу вверх по списку\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuthorize\r\n                ? <div><h3>user: {props.login}</h3>\r\n                <button onClick={props.logOut}>Log Out</button> </div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logOut} from \"../../redux/authorizeReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuthorize: state.authorizeBlock.isAuthorize,\r\n    login: state.authorizeBlock.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logOut})(HeaderContainer);","import React from 'react';\r\nimport {Form, Input, Button, Checkbox} from 'antd';\r\n\r\nconst layout = {\r\n    labelCol: {\r\n        span: 4,\r\n    },\r\n    wrapperCol: {\r\n        span: 8,\r\n    },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: {\r\n        offset: 4,\r\n        span: 8,\r\n    },\r\n};\r\n\r\nconst Login = ({signIn, isAuthorize}) => {\r\n    const onFinish = (values) => {\r\n        signIn(values.username, values.password, values.remember);\r\n        console.log('Success:', values);\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    if (isAuthorize == true) return <div>Your already login!</div>;\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <Form {...layout} name=\"basic\" initialValues={{remember: true}} onFinish={onFinish} onFinishFailed={onFinishFailed}>\r\n            <Form.Item\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your username!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input/>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                label=\"Password\"\r\n                name=\"password\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input your password!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input.Password/>\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"remember\" valuePropName=\"checked\">\r\n                <Checkbox>Remember me</Checkbox>\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    </div>;\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {sendSignIdData} from \"../../redux/authorizeReducer\";\r\nimport Login from \"./Login\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuthorize: state.authorizeBlock.isAuthorize\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signIn: (email, password, rememberMe) => {\r\n            dispatch(sendSignIdData(email, password, rememberMe));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginContainer from \"./components/Login/LoginContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport Loading from \"./components/Common/Preloader/Loading\";\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    };\r\n\r\n    render() {\r\n        if(!this.props.initialized) {\r\n            return <Loading/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path=\"/dialogs\" render={() => <DialogsContainer/>}/>\r\n                    <Route path=\"/profile/:userID?\" render={() => <ProfileContainer/>}/>\r\n                    <Route path=\"/users\" render={() => <UsersContainer/>}/>\r\n                    <Route path=\"/login\" render={() => <LoginContainer/>}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);","import React from 'react';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from \"./redux/reduxStore\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\n\r\n\r\nlet reRenderEntireTree = () => {\r\n    ReactDOM.render(\r\n        <HashRouter>\r\n\r\n            <Provider store={store}>\r\n                <App />\r\n            </Provider>\r\n\r\n        </HashRouter>, document.getElementById('root'));\r\n}; //bind позволяет при использовании this. ссылаться на свойства оригинального объекта, а не свойства объекта которым будет вызвана.\r\n\r\nreRenderEntireTree();\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1QQHQ\",\"active\":\"Navbar_active__3_ypk\"};","module.exports = __webpack_public_path__ + \"static/media/simple-avatar.da821694.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsWrapper\":\"Dialogs_dialogsWrapper__3tkny\",\"dialogsNamesWindow\":\"Dialogs_dialogsNamesWindow__1D3Lt\",\"chatWindow\":\"Dialogs_chatWindow__3UFSt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"DialogItem_active__gHXDC\",\"dialogImg\":\"DialogItem_dialogImg__eaGjg\",\"dialogName\":\"DialogItem_dialogName__2In07\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sender\":\"ChatItem_sender__301_D\",\"answer\":\"ChatItem_answer__3m4qD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1tAeN\",\"userElement\":\"Users_userElement__3cP1E\",\"selectedPage\":\"Users_selectedPage__3su2S\"};"],"sourceRoot":""}